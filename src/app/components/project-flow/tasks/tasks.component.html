<!-- <div [class.item]="!isRoot">
  <div *ngIf="isRoot">Customer Journey</div>
  <div *ngIf="!isRoot">{{listTest.name}}</div>

  <div *ngIf="listTest.children" class="item-child" [sortablejs]="listTest.children" [sortablejsOptions]="options">
    <div *ngFor="let listChild of listTest.children">
      <app-tasks [listTest]="listChild"></app-tasks>
    </div>
  </div>
</div> -->


<div class="container">


  <section class="content">
    <div class="row">
      <div class="col-xs-12">
        <div class="box box-primary box-solid">
          <div class="box-header with-border">
            <h3 class="box-title">
              <span>
                <i class="fa fa-edit"></i>
              </span>
              <span>Add a new Task</span>
            </h3>
          </div>

          <div class="box-body no-padding">
            <form id="form-edit" #tasksForm="ngForm" [formGroup]="taskForm" class="white" method="post" (ngSubmit)="submitTask()"
              style="padding: 50px;">
              <fieldset>
                <div class="row">
                  <div class="col col-5">
                    <section class="form-group ">
                      <label for="id-process_id">Process </label>
                      <select class="select2 form-control select2-hidden-accessible" id="process_id" formControlName="process_id" tabindex="-1"
                        aria-hidden="true" (change)="getSubProcess($event)">
                        <option value="null">Please select a Process</option>
                        <option value="14">Customer Journey</option>
                      </select>
                    </section>
                  </div>

                  <div class="col col-5">
                    <section class="form-group ">
                      <label for="id-sub_process_id">SubProcess</label>
                      <select class="form-control" id="sub_process_id" formControlName="sub_process_id" (change)="getFormFields($event)">
                        <option value="null">Please select a SubProcess</option>
                        <option value="{{subprocess.id}}" *ngFor="let subprocess of subprocesses"> {{subprocess.name | uppercase }}</option>
                      </select>
                    </section>
                  </div>

                </div>

                <hr>

                <div class="row">
                  <div class="col col-8">
                    <section class="form-group ">
                      <label for="id-form_fields">Form Fields</label>
                      
                      <div class="form-check" *ngFor="let field of formFields; let i = index;">
                        <label class="form-check-label" for="field{{field.name}}">
                          <input class="form-check-input" type="checkbox" formControlName="form_fields" value="{{field.id}}" />
                          {{field.name}}
                        </label>
                      </div>


                    </section>
                  </div>
                </div>

                <div class="row">
                  <section class="col col-3">
                    <section class="form-group ">
                      <label for="id-task">Task</label>
                      <input type="text" class="form-control input-generate-slug" id="id-title" class="validate" formControlName="title" placeholder="Loan Detail"
                      />

                    </section>
                  </section>

                  <section class="col col-3">
                    <section class="form-group ">
                      <label for="id-slug">Slug</label>
                      <div class="input-group">
                        <input type="text" class="form-control" id="id-slug" class="validate" formControlName="slug" placeholder="loan-detail" value="">
                        <span class="input-group-addon">
                          <i class="fa fa-link"></i>
                        </span>
                      </div>

                    </section>
                  </section>

                  <section class="col col-3">
                    <section class="form-group ">
                      <label for="id-action">Api Uri</label>
                      <div class="input-group">
                        <select class="form-control" id="action" formControlName="action">
                          <option value="null">Please select a Api Uri</option>
                          <option value="{{api}}" *ngFor="let api of api_routes"> {{api}}</option>
                        </select>
                        <span class="input-group-addon">
                          <i class="fa fa-link"></i>
                        </span>
                      </div>

                    </section>
                  </section>
                </div>


              </fieldset>

              <div class="form-footer">
                <button [disabled]="!taskForm.valid" class="btn btn-labeled btn-primary btn-submit" type="submit">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>